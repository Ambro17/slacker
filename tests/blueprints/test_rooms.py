import pytest

from slacker.api.rooms.api import RoomFinder
from slacker.api.rooms.locations import get_room_location


def test_room_location_second_floor():
    angela = RoomFinder.get_room_by_name('angela Ruiz')
    result = get_room_location(angela)
    assert result == """
╔══════════════════╗         ╔═════════════════════╗
║ 2nd Floor        ║         ║                     ║
║                  ║         ║                     ║
║                  ║         ║                     ║
║                  ║         ║                     ║
║                  ║         ║                     ║
║                  ║         ╠═════════════════════╣
║                  ║         ║                     ║
║                  ╚═════════╝                     ║
║                                                  ║
╚════════╦═════════╦═══════════════════════════════╝
         ║    ■    ║
         ╚═════════╝
""".strip()
    angela = RoomFinder.get_room_by_name('TuRing')
    result = get_room_location(angela)
    assert result == """
╔══════════════════╗         ╔═════════════════════╗
║ 2nd Floor        ║         ║                     ║
║                  ║         ║                     ║
║                  ║         ║          ■          ║
║                  ║         ║                     ║
║                  ║         ║                     ║
║                  ║         ╠═════════════════════╣
║                  ║         ║                     ║
║                  ╚═════════╝                     ║
║                                                  ║
╚════════╦═════════╦═══════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()


@pytest.mark.parametrize('room, expected_map', [
    (
            'marie curie',
            """
╔══════════════════╗          ╔═══════════════╦═════╗
║ Ground Floor     ║          ║               ║  ■  ║
║                  ║          ║               ╠═════╣
║                  ║          ║               ║     ║
║                  ║          ║               ╠═════╣
║                  ║          ║               ║     ║
║                  ║          ║               ╚═════╣
║                  ║          ║                     ║
║                  ╚══════════╝                     ║
║                                                   ║
╚════════╦═════════╦════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),
    (
            'Godel',
            """
╔══════════════════╗          ╔═══════════════╦═════╗
║ Ground Floor     ║          ║               ║     ║
║                  ║          ║               ╠═════╣
║                  ║          ║               ║  ■  ║
║                  ║          ║               ╠═════╣
║                  ║          ║               ║     ║
║                  ║          ║               ╚═════╣
║                  ║          ║                     ║
║                  ╚══════════╝                     ║
║                                                   ║
╚════════╦═════════╦════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),

    (
            'diFFie',
            """
╔══════════════════╗          ╔═══════════════╦═════╗
║ Ground Floor     ║          ║               ║     ║
║                  ║          ║               ╠═════╣
║                  ║          ║               ║     ║
║                  ║          ║               ╠═════╣
║                  ║          ║               ║  ■  ║
║                  ║          ║               ╚═════╣
║                  ║          ║                     ║
║                  ╚══════════╝                     ║
║                                                   ║
╚════════╦═════════╦════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),
    (
            'Shannon',
            """
╔══════════════════╗          ╔═══════════════╦═════╗
║ Ground Floor     ║          ║               ║     ║
║                  ║          ║               ╠═════╣
║                  ║          ║               ║     ║
║                  ║          ║               ╠═════╣
║                  ║          ║               ║     ║
║                  ║          ║               ╚═════╣
║                  ║          ║                     ║
║                  ╚══════════╝                     ║
║                                                   ║
╚════════╦═════════╦════════════════════════════════╝
         ║    ■    ║
         ╚═════════╝
""".strip()
    ),
])
def test_room_location_ground_floor(room, expected_map):
    theroom = RoomFinder.get_room_by_name(room)
    map = get_room_location(theroom)
    print(map, expected_map)
    assert map == expected_map


@pytest.mark.parametrize('room, expected_map', [
    (
            'knuth',
            """
╔══════════════════╗          ╔═══════════════╦═════╗  ╔════╦═══════╦════╗
║ 1st Floor        ║          ║               ║  ■  ║  ║    ║       ║    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ║    ╠═══════╣    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ╠════╝       ╚════╣
║                  ║          ║               ╚═════╣  ║                 ║
║                  ║          ║                     ║  ║                 ║
║                  ╚══════════╝                     ╚══╝                 ║
║                                                                        ║
╚════════╦═════════╦═════════════════════════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),
    (
            'anita borg',
            """
╔══════════════════╗          ╔═══════════════╦═════╗  ╔════╦═══════╦════╗
║ 1st Floor        ║          ║               ║     ║  ║    ║       ║    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║  ■  ║  ║    ╠═══════╣    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ╠════╝       ╚════╣
║                  ║          ║               ╚═════╣  ║                 ║
║                  ║          ║                     ║  ║                 ║
║                  ╚══════════╝                     ╚══╝                 ║
║                                                                        ║
╚════════╦═════════╦═════════════════════════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),
    (
            'lovelace',
            """
╔══════════════════╗          ╔═══════════════╦═════╗  ╔════╦═══════╦════╗
║ 1st Floor        ║          ║               ║     ║  ║    ║       ║    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ║    ╠═══════╣    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║  ■  ║  ╠════╝       ╚════╣
║                  ║          ║               ╚═════╣  ║                 ║
║                  ║          ║                     ║  ║                 ║
║                  ╚══════════╝                     ╚══╝                 ║
║                                                                        ║
╚════════╦═════════╦═════════════════════════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),
    (
            'boole',
            """
╔══════════════════╗          ╔═══════════════╦═════╗  ╔════╦═══════╦════╗
║ 1st Floor        ║          ║               ║     ║  ║    ║       ║    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ║    ╠═══════╣    ║
║                  ║          ║               ╠═════╣  ║  ■ ║       ║    ║
║                  ║          ║               ║     ║  ╠════╝       ╚════╣
║                  ║          ║               ╚═════╣  ║                 ║
║                  ║          ║                     ║  ║                 ║
║                  ╚══════════╝                     ╚══╝                 ║
║                                                                        ║
╚════════╦═════════╦═════════════════════════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),
    (
            'ritchie',
            """
╔══════════════════╗          ╔═══════════════╦═════╗  ╔════╦═══════╦════╗
║ 1st Floor        ║          ║               ║     ║  ║    ║       ║    ║
║                  ║          ║               ╠═════╣  ║    ║   ■   ║    ║
║                  ║          ║               ║     ║  ║    ╠═══════╣    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ╠════╝       ╚════╣
║                  ║          ║               ╚═════╣  ║                 ║
║                  ║          ║                     ║  ║                 ║
║                  ╚══════════╝                     ╚══╝                 ║
║                                                                        ║
╚════════╦═════════╦═════════════════════════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),
    (
            'hamming',
            """
╔══════════════════╗          ╔═══════════════╦═════╗  ╔════╦═══════╦════╗
║ 1st Floor        ║          ║               ║     ║  ║    ║       ║    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ║    ╠═══════╣    ║
║                  ║          ║               ╠═════╣  ║    ║       ║ ■  ║
║                  ║          ║               ║     ║  ╠════╝       ╚════╣
║                  ║          ║               ╚═════╣  ║                 ║
║                  ║          ║                     ║  ║                 ║
║                  ╚══════════╝                     ╚══╝                 ║
║                                                                        ║
╚════════╦═════════╦═════════════════════════════════════════════════════╝
         ║         ║
         ╚═════════╝
""".strip()
    ),
    (
            'huffman',
            """
╔══════════════════╗          ╔═══════════════╦═════╗  ╔════╦═══════╦════╗
║ 1st Floor        ║          ║               ║     ║  ║    ║       ║    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ║    ╠═══════╣    ║
║                  ║          ║               ╠═════╣  ║    ║       ║    ║
║                  ║          ║               ║     ║  ╠════╝       ╚════╣
║                  ║          ║               ╚═════╣  ║                 ║
║                  ║          ║                     ║  ║                 ║
║                  ╚══════════╝                     ╚══╝                 ║
║                                                                        ║
╚════════╦═════════╦═════════════════════════════════════════════════════╝
         ║    ■    ║
         ╚═════════╝
""".strip()
    ),
])
def test_room_location_first_floor(room, expected_map):
    theroom = RoomFinder.get_room_by_name(room)
    map = get_room_location(theroom)
    assert map == expected_map
